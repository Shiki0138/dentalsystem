# 📋 ClaudeAuto 開発ルール

## 🎯 基本理念
1. **ユーザー第一主義** - 全ての決定はユーザーの利益を最優先
2. **史上最強のシステム作り** - 妥協なき品質追求
3. **継続的改善** - 常により良い方法を模索

## 📏 必須遵守事項

### 1. 開発プロセス
- [ ] 作業開始前に必ず仕様書（specifications/project_spec.md）を確認
- [ ] 全ての作業を開発ログ（development/development_log.txt）に記録
- [ ] 重要な変更はPRESIDENTの承認を得る
- [ ] 定期的なGitHubデプロイを実施

### 2. 品質基準
- [ ] 全デバイス対応（PC、タブレット、スマホ）
- [ ] レスポンシブデザインの徹底
- [ ] エラー率0.1%以下を維持
- [ ] ページ読み込み3秒以内
- [ ] テストカバレッジ80%以上

### 3. デプロイ考慮開発
- [ ] **ローカルと本番環境の差異を常に意識**
- [ ] **環境依存のコードを避ける**
- [ ] **本番デプロイ時のエラーを事前に予測・対策**
- [ ] **デプロイ前チェックリストの作成と実行**
- [ ] **本番環境と同等のテスト環境での検証**

### 4. コミュニケーション
- [ ] worker間の積極的な連携
- [ ] 問題の即座の共有
- [ ] 進捗の可視化
- [ ] 定期的な状況報告

## 🚀 初回プロジェクト開始時

### 本番リリース90%到達目標
1. **第1回目の作業で90%完成を目指す**
2. **外部API・有料サービスは最後の10%に集約**
3. **無料で実装可能な全機能を完璧に仕上げる**

詳細は `templates/90-percent-release-template.md` を参照

## 🔄 作業再開時の手順

### 予期せぬシャットダウン後
1. `./resume-work.sh [プロジェクト名]` を実行
2. 開発ログを確認して現状把握
3. 仕様書を再確認
4. 必要に応じて進捗監視システムを起動

## 🚨 エラー修正時の対応

### PRESIDENTから「エラー修正」指示が出た場合
1. **全workerで無料でできるあらゆる策を講じる**
2. **PC、タブレット、スマホ全てで完璧な動作を保証**
3. **詳細なエラーチェックと予防策の実装**

詳細は `templates/error-fix-template.md` を参照

### 本番デプロイエラーの予防
1. **環境変数の完全なドキュメント化**
2. **依存関係の明確な管理（package.json、Gemfile等）**
3. **データベース移行の安全な実行手順**
4. **本番環境固有の設定を事前確認**
5. **ロールバック手順の準備**

## 🔍 自動監視システム

### 進捗監視
- 5分間隔で全エージェントの状態をチェック
- 停滞検出時は自動的に作業再開指示
- テキストボックスで止まっている場合も自動検出・修復

起動コマンド: `./progress-monitor.sh [プロジェクト名] &`

## 🎨 Claude Codeモード管理

### 自動切り替え推奨
- 軽微な開発: Sonnet 4
- 深い思考が必要: Opus 4
- タスク内容に基づいて自動選択

切り替えコマンド: `./switch-mode.sh auto`

## 📊 開発ログ管理

### 開発ログの定義
開発ログは単なるシステムログではなく、**自然言語での開発記録**です。
「今回はこのような機能を実装した」「このような課題をこう解決した」といった、
人が読んで理解できる開発の物語を記録します。

### 開発ログフォーマット
```
[YYYY-MM-DD HH:MM:SS] [プロジェクト名] [エージェント] 
今回は○○機能を実装しました。
具体的には、××の課題を解決するために△△の手法を採用し、
□□の結果を得ることができました。
次回は、◇◇の機能に取り組む予定です。
```

### 良い開発ログの例
```
[2025-06-29 14:30:00] [myproject] [worker1] 
ユーザー認証機能を実装しました。
具体的には、JWT（JSON Web Token）を使用したステートレス認証システムを構築し、
セキュリティを確保しながらスケーラビリティも考慮しました。
パスワードハッシュ化にはbcryptを使用し、レインボーテーブル攻撃に対する耐性を持たせています。
次回は、権限管理機能の実装に取り組む予定です。
```

### 避けるべき機械的なログ
```
❌ [2025-06-29 14:30:00] [START] [myproject] [worker1] 作業開始
❌ [2025-06-29 15:00:00] [COMPLETE] [myproject] [worker1] 作業完了
```

### 必須記録内容
1. **実装した機能の説明**
2. **なぜその実装方法を選んだか**
3. **どのような課題を解決したか**
4. **得られた結果・効果**
5. **次に取り組む予定の作業**

## 🏆 成功の指標

### 短期目標
- 1回の作業で90%完成
- エラーゼロでの初回リリース
- 全デバイス完璧対応

### 長期目標
- ユーザー満足度100%
- 保守性の高いコード
- 拡張性のあるアーキテクチャ

## ⚠️ 禁止事項

1. **仕様書を確認せずに作業開始**
2. **開発ログへの記録漏れ**
3. **単独での重要決定**
4. **テスト不足でのリリース**
5. **ユーザビリティを損なう変更**

## 🔧 ツール・スクリプト一覧

### 基本ツール
- `setup.sh` - プロジェクト初期設定
- `agent-send.sh` - エージェント間通信
- `boss-auto-cycle.sh` - 自動サイクルシステム

### 管理ツール
- `resume-work.sh` - 作業再開支援
- `progress-monitor.sh` - 進捗監視システム
- `switch-mode.sh` - モード切り替え

### テンプレート
- `templates/90-percent-release-template.md` - 90%到達テンプレート
- `templates/error-fix-template.md` - エラー修正テンプレート

## 📝 更新履歴
- 2025-06-29: 初版作成
- 2025-06-29: 自動監視システム追加
- 2025-06-29: エラー修正テンプレート追加
- 2025-06-29: 90%到達目標追加
- 2025-06-29: デプロイ考慮開発の項目追加