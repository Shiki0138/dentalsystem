# 🚀 本番環境 + デモ環境 デプロイ戦略

## 📋 目標構成

### 1. 本番環境（production）
- **URL**: https://dental-system.railway.app
- **用途**: 実際の歯科医院が使用
- **アクセス**: 制限なし（通常のログイン認証のみ）
- **データ**: 本番データ

### 2. デモ環境（demo）
- **URL**: https://dental-demo.railway.app
- **用途**: 見込み客のテスト・評価用
- **アクセス**: デモモード（サンプルデータ自動生成）
- **データ**: テストデータ（定期的にリセット）

## 🔧 実装方法

### オプション1: 環境変数による切り替え（推奨）
同一コードベースで環境変数により動作を切り替え

```ruby
# config/application.rb
config.demo_mode = ENV['DEMO_MODE'] == 'true'
```

### オプション2: 別プロジェクトとしてデプロイ
- Railway上で2つのプロジェクトを作成
- 同じコードベースを異なる設定でデプロイ

## 📝 実装手順

### ステップ1: コードの調整
1. ベータアクセス制御を環境変数で制御
2. デモモード機能の実装
3. データリセット機能の追加

### ステップ2: 本番環境デプロイ
1. BETA_MODE=false でデプロイ
2. 通常の認証システムを有効化

### ステップ3: デモ環境デプロイ
1. 別プロジェクトとして作成
2. DEMO_MODE=true でデプロイ
3. サンプルデータ自動生成