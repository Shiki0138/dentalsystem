#!/bin/bash

# ==================================================
# Railwayæœ¬æ ¼ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
# Generated by Quartet Automation System
# ==================================================

PROJECT_NAME=${1:-dentalsystem}
DEPLOY_ENV=${2:-production}
RAILWAY_SERVICE=${3:-dental-system}

# ã‚«ãƒ©ãƒ¼è¨­å®š
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
CYAN='\033[0;36m'
PURPLE='\033[0;35m'
NC='\033[0m'

echo -e "${PURPLE}===================================================${NC}"
echo -e "${PURPLE}    Railwayæœ¬æ ¼ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ ${NC}"
echo -e "${PURPLE}===================================================${NC}"

LOG_FILE="logs/railway-deploy-$(date '+%Y%m%d_%H%M%S').log"
mkdir -p logs

echo "[$(date '+%Y-%m-%d %H:%M:%S')] Railway ãƒ‡ãƒ—ãƒ­ã‚¤é–‹å§‹" >> $LOG_FILE

# Phase 1: äº‹å‰ãƒã‚§ãƒƒã‚¯
pre_deployment_check() {
    echo -e "\n${BLUE}=== Phase 1: äº‹å‰ãƒ‡ãƒ—ãƒ­ã‚¤ãƒã‚§ãƒƒã‚¯ ===${NC}"
    
    echo -e "${CYAN}GitçŠ¶æ³ç¢ºèªä¸­...${NC}"
    if [ $(git status --porcelain | wc -l) -ne 0 ]; then
        echo -e "${RED}âŒ æœªã‚³ãƒŸãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ã¾ã™${NC}"
        git status --short
        echo -e "${YELLOW}å…ˆã«ã‚³ãƒŸãƒƒãƒˆã—ã¦ãã ã•ã„${NC}"
        return 1
    fi
    
    echo -e "${CYAN}Branchç¢ºèªä¸­...${NC}"
    CURRENT_BRANCH=$(git branch --show-current)
    if [ "$CURRENT_BRANCH" != "main" ] && [ "$CURRENT_BRANCH" != "master" ]; then
        echo -e "${YELLOW}âš ï¸ ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒ: $CURRENT_BRANCH${NC}"
        echo -e "${YELLOW}mainãƒ–ãƒ©ãƒ³ãƒã§ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’æ¨å¥¨ã—ã¾ã™${NC}"
    fi
    
    echo -e "${CYAN}ä¾å­˜é–¢ä¿‚ç¢ºèªä¸­...${NC}"
    if [ -f "Gemfile.lock" ]; then
        echo -e "${GREEN}âœ… Gemfile.lock å­˜åœ¨${NC}"
    else
        echo -e "${RED}âŒ Gemfile.lock ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“${NC}"
        return 1
    fi
    
    echo -e "${CYAN}å¿…é ˆãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèªä¸­...${NC}"
    REQUIRED_FILES=("config/database.yml" "config/application.rb" "Gemfile")
    for file in "${REQUIRED_FILES[@]}"; do
        if [ -f "$file" ]; then
            echo -e "${GREEN}âœ… $file${NC}"
        else
            echo -e "${RED}âŒ $file ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“${NC}"
            return 1
        fi
    done
    
    echo -e "${GREEN}âœ… äº‹å‰ãƒã‚§ãƒƒã‚¯å®Œäº†${NC}"
    echo "[$(date '+%Y-%m-%d %H:%M:%S')] äº‹å‰ãƒã‚§ãƒƒã‚¯å®Œäº†" >> $LOG_FILE
}

# Phase 2: Railwayç’°å¢ƒè¨­å®š
setup_railway_environment() {
    echo -e "\n${BLUE}=== Phase 2: Railwayç’°å¢ƒè¨­å®š ===${NC}"
    
    # Railway CLIç¢ºèª
    if ! command -v railway &> /dev/null; then
        echo -e "${YELLOW}Railway CLI ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸­...${NC}"
        curl -fsSL https://railway.app/install.sh | sh
        export PATH="$HOME/.railway/bin:$PATH"
    fi
    
    echo -e "${CYAN}Railway ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–ä¸­...${NC}"
    
    # Railwayfileä½œæˆ
    cat > railway.toml << 'EOF'
[build]
builder = "NIXPACKS"
buildCommand = "bundle install && bundle exec rails assets:precompile"

[deploy]
startCommand = "bundle exec rails server -p $PORT -e $RAILS_ENV"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[env]
RAILS_ENV = "production"
RAILS_SERVE_STATIC_FILES = "true"
RAILS_LOG_TO_STDOUT = "true"
EOF
    
    echo -e "${GREEN}âœ… Railwayè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ${NC}"
    echo "[$(date '+%Y-%m-%d %H:%M:%S')] Railwayè¨­å®šå®Œäº†" >> $LOG_FILE
}

# Phase 3: æœ¬ç•ªç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ
generate_production_configs() {
    echo -e "\n${BLUE}=== Phase 3: æœ¬ç•ªç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ ===${NC}"
    
    # Procfileä½œæˆ
    echo -e "${CYAN}Procfileç”Ÿæˆä¸­...${NC}"
    cat > Procfile << 'EOF'
web: bundle exec rails server -p $PORT -e $RAILS_ENV
worker: bundle exec sidekiq -e $RAILS_ENV
EOF
    
    # Dockerfileä½œæˆï¼ˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ç”¨ï¼‰
    echo -e "${CYAN}Dockerfileç”Ÿæˆä¸­...${NC}"
    cat > Dockerfile << 'EOF'
FROM ruby:3.3.8-slim

# å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
RUN apt-get update -qq && apt-get install -y \
    build-essential \
    libpq-dev \
    nodejs \
    npm \
    git \
    curl \
    && rm -rf /var/lib/apt/lists/*

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
WORKDIR /app

# Gemfileé–¢é€£ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
COPY Gemfile Gemfile.lock ./
RUN bundle config set --local deployment 'true' && \
    bundle config set --local without 'development test' && \
    bundle install

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼
COPY . .

# ã‚¢ã‚»ãƒƒãƒˆãƒ—ãƒªã‚³ãƒ³ãƒ‘ã‚¤ãƒ«
RUN bundle exec rails assets:precompile

# ãƒãƒ¼ãƒˆå…¬é–‹
EXPOSE 3000

# å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰
CMD ["bundle", "exec", "rails", "server", "-b", "0.0.0.0", "-p", "3000"]
EOF
    
    # .dockerignoreä½œæˆ
    cat > .dockerignore << 'EOF'
.git
.gitignore
README.md
Dockerfile
.dockerignore
node_modules
tmp
log
coverage
.env*
EOF
    
    # nixpacks.tomlä½œæˆï¼ˆRailwayæœ€é©åŒ–ï¼‰
    cat > nixpacks.toml << 'EOF'
[phases.build]
cmds = [
    "bundle install",
    "bundle exec rails assets:precompile"
]

[variables]
RAILS_ENV = "production"
RAILS_SERVE_STATIC_FILES = "true"
RAILS_LOG_TO_STDOUT = "true"
EOF
    
    echo -e "${GREEN}âœ… æœ¬ç•ªç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆå®Œäº†${NC}"
    echo "[$(date '+%Y-%m-%d %H:%M:%S')] æœ¬ç•ªè¨­å®šå®Œäº†" >> $LOG_FILE
}

# Phase 4: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ç’°å¢ƒå¤‰æ•°è¨­å®š
setup_database_and_env() {
    echo -e "\n${BLUE}=== Phase 4: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ç’°å¢ƒå¤‰æ•°è¨­å®š ===${NC}"
    
    echo -e "${CYAN}æœ¬ç•ªç”¨ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆä¸­...${NC}"
    
    cat > .env.production.template << 'EOF'
# ===== Railway Production Environment Variables =====

# Rails Configuration
RAILS_ENV=production
RAILS_SERVE_STATIC_FILES=true
RAILS_LOG_TO_STDOUT=true

# Security Keys (è¦ç”Ÿæˆ)
RAILS_MASTER_KEY=your_master_key_here
SECRET_KEY_BASE=your_secret_key_base_here

# Database (Railway PostgreSQL Pluginè‡ªå‹•è¨­å®š)
DATABASE_URL=${{PostgreSQL.DATABASE_URL}}
POSTGRES_DB=${{PostgreSQL.POSTGRES_DB}}
POSTGRES_USER=${{PostgreSQL.POSTGRES_USER}}
POSTGRES_PASSWORD=${{PostgreSQL.POSTGRES_PASSWORD}}
POSTGRES_HOST=${{PostgreSQL.POSTGRES_HOST}}
POSTGRES_PORT=${{PostgreSQL.POSTGRES_PORT}}

# Cache & Jobs (Railway Redis Pluginè‡ªå‹•è¨­å®š)
REDIS_URL=${{Redis.REDIS_URL}}
REDIS_HOST=${{Redis.REDIS_HOST}}
REDIS_PORT=${{Redis.REDIS_PORT}}
REDIS_PASSWORD=${{Redis.REDIS_PASSWORD}}

# LINE Messaging API
LINE_CHANNEL_SECRET=your_line_channel_secret
LINE_CHANNEL_ACCESS_TOKEN=your_line_channel_access_token

# Google APIs
GOOGLE_APPLICATION_CREDENTIALS_JSON=your_google_credentials_json
GOOGLE_CALENDAR_ID=your_google_calendar_id

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_DOMAIN=gmail.com

# Application Settings
DENTAL_CLINIC_NAME=Your Dental Clinic
DENTAL_CLINIC_PHONE=03-1234-5678
DENTAL_CLINIC_ADDRESS=Tokyo, Japan

# Security Settings  
ALLOWED_HOSTS=your-app.railway.app
CORS_ALLOWED_ORIGINS=https://your-app.railway.app

# Monitoring & Logging
RAILS_LOG_LEVEL=info
SENTRY_DSN=your_sentry_dsn_if_using

# Performance Settings
WEB_CONCURRENCY=2
RAILS_MAX_THREADS=5
EOF
    
    # ç§˜å¯†éµç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ
    cat > scripts/generate-production-keys.sh << 'EOF'
#!/bin/bash

echo "=== Rails Production Keys Generator ==="

echo "Generating SECRET_KEY_BASE..."
SECRET_KEY_BASE=$(rails secret)
echo "SECRET_KEY_BASE=$SECRET_KEY_BASE"

echo ""
echo "Generating RAILS_MASTER_KEY..."
echo "Run: EDITOR=nano rails credentials:edit --environment production"
echo "This will generate config/credentials/production.key"

echo ""
echo "=== Copy these values to Railway Environment Variables ==="
echo "SECRET_KEY_BASE=$SECRET_KEY_BASE"
EOF
    
    chmod +x scripts/generate-production-keys.sh
    
    echo -e "${GREEN}âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ç’°å¢ƒå¤‰æ•°è¨­å®šå®Œäº†${NC}"
    echo "[$(date '+%Y-%m-%d %H:%M:%S')] DBãƒ»ç’°å¢ƒå¤‰æ•°è¨­å®šå®Œäº†" >> $LOG_FILE
}

# Phase 5: GitHub Actions CI/CDè¨­å®š
setup_github_actions() {
    echo -e "\n${BLUE}=== Phase 5: GitHub Actions CI/CDè¨­å®š ===${NC}"
    
    mkdir -p .github/workflows
    
    cat > .github/workflows/railway-deploy.yml << 'EOF'
name: Deploy to Railway

on:
  push:
    branches: [main, master]
  pull_request:
    branches: [main, master]

jobs:
  test:
    runs-on: ubuntu-latest
    
    services:
      postgres:
        image: postgres:15
        env:
          POSTGRES_PASSWORD: postgres
          POSTGRES_DB: dental_system_test
        options: >-
          --health-cmd pg_isready
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
        ports:
          - 5432:5432
          
      redis:
        image: redis:7
        options: >-
          --health-cmd "redis-cli ping"
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
        ports:
          - 6379:6379

    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Set up Ruby
      uses: ruby/setup-ruby@v1
      with:
        ruby-version: 3.3.8
        bundler-cache: true
        
    - name: Set up Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '20'
        
    - name: Install dependencies
      run: |
        bundle install
        
    - name: Setup Database
      run: |
        bundle exec rails db:create RAILS_ENV=test
        bundle exec rails db:migrate RAILS_ENV=test
      env:
        DATABASE_URL: postgres://postgres:postgres@localhost:5432/dental_system_test
        REDIS_URL: redis://localhost:6379/0
        RAILS_ENV: test
        
    - name: Precompile assets
      run: bundle exec rails assets:precompile
      env:
        RAILS_ENV: test
        SECRET_KEY_BASE: test_secret_key_base
        
    - name: Run RSpec tests
      run: bundle exec rspec
      env:
        DATABASE_URL: postgres://postgres:postgres@localhost:5432/dental_system_test
        REDIS_URL: redis://localhost:6379/0
        RAILS_ENV: test
        SECRET_KEY_BASE: test_secret_key_base
        
    - name: Run RuboCop
      run: bundle exec rubocop --parallel
      
    - name: Security Audit
      run: |
        gem install bundler-audit
        bundler-audit --update
        bundle exec bundle-audit check

  deploy:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main' || github.ref == 'refs/heads/master'
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Deploy to Railway
      uses: bervProject/railway-deploy@v1.8.0
      with:
        railway_token: ${{ secrets.RAILWAY_TOKEN }}
        service: ${{ secrets.RAILWAY_SERVICE_ID }}
        
    - name: Notify deployment status
      if: always()
      run: |
        if [ ${{ job.status }} == 'success' ]; then
          echo "ğŸš€ Deployment successful!"
        else
          echo "âŒ Deployment failed!"
        fi
EOF
    
    echo -e "${GREEN}âœ… GitHub Actions CI/CDè¨­å®šå®Œäº†${NC}"
    echo "[$(date '+%Y-%m-%d %H:%M:%S')] CI/CDè¨­å®šå®Œäº†" >> $LOG_FILE
}

# Phase 6: å¥åº·ãƒã‚§ãƒƒã‚¯ãƒ»ç›£è¦–è¨­å®š
setup_monitoring() {
    echo -e "\n${BLUE}=== Phase 6: ç›£è¦–ãƒ»ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯è¨­å®š ===${NC}"
    
    # Health check controllerä½œæˆ
    mkdir -p app/controllers/api/v1
    cat > app/controllers/api/v1/health_controller.rb << 'EOF'
class Api::V1::HealthController < ApplicationController
  skip_before_action :authenticate_user!, only: [:show]
  
  def show
    status = {
      status: 'healthy',
      timestamp: Time.current.iso8601,
      version: Rails.application.config.version || '1.0.0',
      environment: Rails.env,
      database: database_status,
      redis: redis_status,
      services: service_status
    }
    
    render json: status, status: :ok
  rescue => e
    render json: { 
      status: 'unhealthy', 
      error: e.message,
      timestamp: Time.current.iso8601 
    }, status: :service_unavailable
  end
  
  private
  
  def database_status
    ActiveRecord::Base.connection.execute('SELECT 1')
    'connected'
  rescue => e
    "error: #{e.message}"
  end
  
  def redis_status
    Redis.current.ping
    'connected'
  rescue => e
    "error: #{e.message}"
  end
  
  def service_status
    {
      sidekiq: sidekiq_status,
      disk_space: disk_usage,
      memory: memory_usage
    }
  end
  
  def sidekiq_status
    Sidekiq::Stats.new.processed > 0 ? 'active' : 'idle'
  rescue
    'unavailable'
  end
  
  def disk_usage
    `df -h /`.lines.last.split[4] rescue 'unknown'
  end
  
  def memory_usage
    `free -m | grep '^Mem:' | awk '{print $3"/"$2"MB"}'`.strip rescue 'unknown'
  end
end
EOF
    
    # ãƒ«ãƒ¼ãƒˆè¿½åŠ 
    echo -e "${CYAN}Health check routeè¿½åŠ ä¸­...${NC}"
    if ! grep -q "api/v1/health" config/routes.rb; then
        sed -i '' '/Rails.application.routes.draw do/a\
  namespace :api do\
    namespace :v1 do\
      get "health", to: "health#show"\
    end\
  end\
' config/routes.rb
    fi
    
    echo -e "${GREEN}âœ… ç›£è¦–ãƒ»ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯è¨­å®šå®Œäº†${NC}"
    echo "[$(date '+%Y-%m-%d %H:%M:%S')] ç›£è¦–è¨­å®šå®Œäº†" >> $LOG_FILE
}

# Phase 7: æœ€çµ‚ãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè¡Œ
execute_deployment() {
    echo -e "\n${BLUE}=== Phase 7: æœ€çµ‚ãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè¡Œ ===${NC}"
    
    echo -e "${CYAN}ãƒ‡ãƒ—ãƒ­ã‚¤å‰æœ€çµ‚ãƒã‚§ãƒƒã‚¯...${NC}"
    
    # Gitå¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ
    git add -A
    git commit -m "feat: Railwayæœ¬æ ¼ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®šå®Œäº†

- Railwayç’°å¢ƒè¨­å®š (railway.toml, Procfile, Dockerfile)
- æœ¬ç•ªç”¨ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ
- GitHub Actions CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³è¨­å®š
- Health check API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¿½åŠ 
- ç›£è¦–ãƒ»ãƒ­ã‚°è¨­å®šæœ€é©åŒ–

ğŸš€ Railway Deploy Ready

Co-Authored-By: Quartet Automation System
Co-Authored-By: PRESIDENT <president@quartet.ai>
Co-Authored-By: Claude-Code <claude@quartet.ai>
Co-Authored-By: Gemini-CLI <gemini@quartet.ai>
Co-Authored-By: Codex-CLI <codex@quartet.ai>"
    
    echo -e "${CYAN}GitHubã«ãƒ—ãƒƒã‚·ãƒ¥ä¸­...${NC}"
    git push origin $(git branch --show-current)
    
    echo -e "\n${GREEN}ğŸ‰ Railway ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®šå®Œäº†ï¼${NC}"
    echo -e "${YELLOW}æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:${NC}"
    echo -e "1. Railway (https://railway.app) ã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ"
    echo -e "2. GitHubé€£æºã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ"
    echo -e "3. PostgreSQL Pluginè¿½åŠ "
    echo -e "4. Redis Pluginè¿½åŠ "
    echo -e "5. Environment Variablesè¨­å®š"
    echo -e "6. ./scripts/generate-production-keys.sh å®Ÿè¡Œ"
    echo -e "7. è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤é–‹å§‹"
    
    echo "[$(date '+%Y-%m-%d %H:%M:%S')] Railway ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®šå®Œäº†" >> $LOG_FILE
}

# ãƒ¡ã‚¤ãƒ³å®Ÿè¡Œ
main() {
    echo -e "${PURPLE}Railwayæœ¬æ ¼ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè‡ªå‹•åŒ–ã‚’é–‹å§‹ã—ã¾ã™${NC}"
    echo -e "${CYAN}å¯¾è±¡: https://github.com/Shiki0138/dentalsystem.git${NC}"
    
    pre_deployment_check || exit 1
    setup_railway_environment
    generate_production_configs
    setup_database_and_env
    setup_github_actions
    setup_monitoring
    execute_deployment
    
    echo -e "\n${PURPLE}===================================================${NC}"
    echo -e "${PURPLE}    Railwayæœ¬æ ¼ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆå®Œäº†${NC}"
    echo -e "${PURPLE}===================================================${NC}"
    echo -e "${GREEN}ğŸ“‹ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ­ã‚°: $LOG_FILE${NC}"
    echo -e "${GREEN}ğŸ“Š åˆ†æãƒ¬ãƒãƒ¼ãƒˆ: deployment/optimal-deployment-analysis.md${NC}"
    echo -e "${CYAN}ğŸš€ Railway Console: https://railway.app/dashboard${NC}"
}

# å®Ÿè¡Œ
main "$@"